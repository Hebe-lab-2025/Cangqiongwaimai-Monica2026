你这个日志里其实暴露了 **两个独立问题**（一个是接口 404，一个是登录密码校验失败），应用本身已经 **启动成功** 了 ✅

> ⚠️ 你日志里把 `token/JWT` 打出来了（cookie 里也有）。以后建议打码再发，避免被复用。

---

## 1) `No mapping for GET /admin/dish/page`（404）是什么原因？

这句说明：**Spring MVC 里根本没有注册到** `GET /admin/dish/page` 这个接口（不是拦截器拦住；是“压根没这个路由”）。

最常见 4 个原因（按概率从高到低）：

### A. Controller 根本没被扫描到（没进 Spring 容器）

检查你的 `DishController`：

* 有没有 `@RestController` / `@Controller`
* 类上有没有 `@RequestMapping("/admin/dish")`
* 方法上有没有 `@GetMapping("/page")`

以及启动类 `SkyApplication` 的包路径是不是在最顶层（通常 `package com.sky;`），否则 `@SpringBootApplication` 默认扫描不到。

### B. 路径写错了（前端请求和后端映射不一致）

比如后端其实是：

* `/admin/dish/page` vs `/admin/dish/pageQuery`
* `/admin/dish/page` 是 **POST**，但前端发的是 **GET**
* 后端有 `server.servlet.context-path=/sky`，那真实路径会变成 `/sky/admin/dish/page`

你日志里显示 context path 是空：`context path ''`，所以**不是** context-path 的问题，但仍要核对 controller 映射是否一致。

### C. 这个 Controller 没编进当前运行的模块 / classpath

你现在跑的是 `sky-server/target/classes`。如果 `DishController` 在别的 module（或没被 `sky-server` 依赖），也会导致 404。

> 你之前也遇到过 `package com.sky.dto does not exist`，这种“模块依赖/编译产物缺失”很容易连带造成某些 controller 不存在。

### D. 被你自定义 WebMvc 配置“改坏了”

你日志里有：`WebMvcConfiguration : 开始设置静态资源映射...`
如果你用了 `@EnableWebMvc`，会让 Spring Boot 的自动配置失效，导致很多默认 MVC 行为改变（不过一般不会直接让某个接口 mapping 消失，除非你手动覆盖了 handler mapping）。

---

### ✅ 立刻定位“到底有没有注册 mapping”的最快方法（强烈推荐）

在 `application-dev.yml` 加上（或临时在 IDE run configuration 里加 JVM 参数也行）：

```yml
logging:
  level:
    org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping: TRACE
```

重启后启动日志会打印所有映射；你直接搜关键字：`/admin/dish`

或者更硬核一点：**打开 Actuator mappings**

```yml
management:
  endpoints:
    web:
      exposure:
        include: mappings
```

然后访问：

* `GET http://localhost:8080/actuator/mappings`
  搜索 `dish`，就能看到 Spring 到底有没有注册。

---

## 2) `PasswordErrorException: 密码错误`（登录失败）怎么修？

这一段非常明确：数据库查到了 `admin` 用户（`Total: 1`），但在 `EmployeeServiceImpl.login(EmployeeServiceImpl.java:57)` 比对密码时失败。

### 最常见原因

#### A. 数据库里 `admin` 的密码不是 `123456`

你可以直接在 MySQL 执行：

```sql
select username, password, status from employee where username = 'admin';
```

然后对比：

* 如果项目用的是 MD5（很多黑马/传智项目是 md5），那 `123456` 的 md5 通常是：`e10adc3949ba59abbe56e057f20f883e`

把库里的 password 和这个比一下就知道了。

#### B. 前端传的是明文，但后端又做了二次加密/加盐（或反过来）

你日志里请求体是：`password=123456`（明文）
你需要看 `EmployeeServiceImpl.login` 第 57 行到底怎么比的，比如：

* `DigestUtils.md5DigestAsHex(password.getBytes())`
* 是否拼了盐：`password + salt`
* 是否用 BCrypt（通常不是）

### ✅ 快速修复（仅用于本地/学习环境）

如果你确认项目就是 md5 明文校验那套，可以把 admin 密码改回 123456：

```sql
update employee
set password = md5('123456')
where username = 'admin';
```

> 如果你们不是用 SQL 的 `md5()`，而是 Java 里自己算的 md5，也可以在 Java 里打断点看看最终算出来的字符串，再写入数据库。

---

## 3) 你现在的现象串起来就是这样

* 服务启动 OK ✅
* 你访问页面时请求了 `GET /admin/dish/page` → **后端没有这个 mapping** → 404
* 你点登录时 `admin/123456` → 数据库有 admin，但密码对不上 → 抛 `PasswordErrorException`

---

## 你下一步应该怎么做（最省时间路线）

1. **先解决 404：** 按上面加 `RequestMappingHandlerMapping: TRACE`，重启，确认 `DishController` 有没有被注册
2. **再解决登录：** 查库 `select password...`，确认 admin 密码到底是什么，加断点看第 57 行比较逻辑
3. 如果你愿意，把下面两段贴出来（我就能直接给你“改哪一行”）：

   * `EmployeeServiceImpl.login()`（包含第 57 行附近）
   * `DishController` 的类注解 + `page` 方法注解（只要方法签名和注解，不用全类）
