你这个 **`#`**，在 **MyBatis** 里是一个**非常关键的符号**，和你刚刚问的 `%` 是**一整套一起用的**。

---

## 一句话结论（先记住）

> **`#{}` 是 MyBatis 的参数占位符，用来安全地传参数（预编译，防 SQL 注入）。**

---

## 1️⃣ `#{}` 是干嘛的？

看你用过的代码：

```xml
name = #{name}
```

### 实际发生了什么？

MyBatis 会把它变成：

```sql
name = ?
```

然后再 **把参数值安全地绑定进去**。

👉 这是 **预编译 SQL（PreparedStatement）**

---

## 2️⃣ `#{}` vs `${}`（这是面试必问）

| 对比       | `#{}`    | `${}`         |
| -------- | -------- | ------------- |
| 本质       | 参数占位符    | 字符串拼接         |
| 是否预编译    | ✅ 是      | ❌ 否           |
| 防 SQL 注入 | ✅        | ❌             |
| 常用场景     | 查询条件、更新值 | 表名 / 排序字段（极少） |

---

### ✅ 正确用法（你现在的代码）

```xml
and name like concat('%', #{name}, '%')
```

👉 安全 + 正确

---

### ❌ 危险用法（不要这样写）

```xml
and name like '%${name}%'
```

如果 `name = "' or 1=1 --"`
👉 **直接全表查询（SQL 注入）**

---

## 3️⃣ 为什么不能这样写？（你可能疑惑过）

```xml
'%#{name}%'
```

❌ 错，因为：

* `#{}` **不能在字符串内部解析**
* MyBatis 只会把整个 `#{}` 当成一个参数

所以必须用：

```xml
concat('%', #{name}, '%')
```

---

## 4️⃣ `#{}` 里的名字从哪来？

```xml
#{name}
```

对应的是：

```java
employee.getName()
```

或者：

```java
pageQuery(String name);
```

📌 规则：

* 参数名
* 或 JavaBean 的属性名

---

## 5️⃣ `#` 在 UPDATE 里的意义（结合你刚刚的代码）

```xml
<if test="phone != null">
    phone = #{phone},
</if>
```

含义是：

> 如果 `employee.phone` 不为 null，
> 就把 phone 的值 **安全地更新到数据库**

---

## 6️⃣ 面试一句话版（直接背）

> `#{}` 是 MyBatis 的参数占位符，底层使用预编译 SQL，将参数安全绑定到 `?`，可以防止 SQL 注入，而 `${}` 是字符串拼接，存在安全风险。

---

## 7️⃣ 你现在阶段，记住这 4 条就够

1. **能用 `#{}` 就永远别用 `${}`**
2. `#{}` 会变成 `?`
3. `%` 不能包住 `#{}`，要用 `concat`
4. UPDATE / WHERE 条件 **全部用 `#{}`**

---

如果你愿意，下一步我可以：

* 🧪 给你 5 道 `#{}` / `${}` 判断题
* 🔥 模拟一次 SQL 注入真实案例
* 🧭 画一张 `MyBatis 参数绑定流程图`

你选一个，我继续。
