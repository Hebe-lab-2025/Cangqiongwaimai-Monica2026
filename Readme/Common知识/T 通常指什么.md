å¾ˆå¥½ï¼Œè¿™é‡Œæ­£å¥½æ˜¯ **Java æ³›å‹ï¼ˆGenericsï¼‰é‡Œä¸€ä¸ªéå¸¸å…¸å‹ã€ä¹Ÿå¾ˆå®¹æ˜“è¢«å¿½ç•¥çš„ç‚¹**ã€‚æˆ‘åˆ† **3 å±‚**ç»™ä½ è®²æ¸…æ¥šã€‚

---

## ä¸€ã€`T` é€šå¸¸æŒ‡ä»€ä¹ˆï¼Ÿï¼ˆä¸€å¥è¯ç‰ˆï¼‰

> **`T` æ˜¯ä¸€ä¸ªâ€œç±»å‹å ä½ç¬¦ï¼ˆType Parameterï¼‰â€ï¼Œè¡¨ç¤ºè¿™ä¸ªç±»/æ–¹æ³•å¯ä»¥è£…ä»»æ„ç±»å‹çš„æ•°æ®ã€‚**

åœ¨ä½ è¿™ä¸ªç±»é‡Œï¼š

```java
public class Result<T>
```

ğŸ‘‰ `T` ä»£è¡¨ **è¿”å›ç»™å‰ç«¯çš„ data çš„çœŸå®ç±»å‹**ã€‚

---

## äºŒã€ç»“åˆä½ è¿™æ®µä»£ç é€è¡Œç†è§£ï¼ˆéå¸¸å…³é”®ï¼‰

### 1ï¸âƒ£ æ³›å‹ç±»å®šä¹‰

```java
public class Result<T> implements Serializable {
    private T data; // æ•°æ®
}
```

è¿™æ„å‘³ç€ï¼š

| å®é™…ä½¿ç”¨                  | `T` ä»£è¡¨ä»€ä¹ˆ          |
| --------------------- | ----------------- |
| `Result<String>`      | `T = String`      |
| `Result<User>`        | `T = User`        |
| `Result<List<Order>>` | `T = List<Order>` |

---

### 2ï¸âƒ£ æ³›å‹æ–¹æ³•ï¼š`<T>` æ˜¯**æ–¹æ³•çº§åˆ«çš„æ³›å‹**

```java
public static <T> Result<T> success(T object)
```

è¿™é‡Œçš„ `<T>` æ˜¯ï¼š

* **å®šä¹‰åœ¨æ–¹æ³•ä¸Šçš„æ³›å‹**
* å’Œç±»ä¸Šçš„ `T` æ²¡æœ‰ç›´æ¥å…³ç³»ï¼ˆè™½ç„¶åå­—ä¸€æ ·ï¼‰

ç­‰ä»·ç†è§£ä¸ºï¼š

> â€œè¿™ä¸ªæ–¹æ³•å¯ä»¥è¿”å›ä¸€ä¸ª `Result<ä»»æ„ç±»å‹>`â€

---

## ä¸‰ã€é‡ç‚¹æ¥äº†ï¼šä½ é—®çš„è¿™æ®µä»£ç  ğŸ‘‡

```java
public static <T> Result<T> error(String msg) {
    Result result = new Result();
    result.msg = msg;
    result.code = 0;
    return result;
}
```

### â— è¿™é‡Œå‘ç”Ÿäº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ

#### 1ï¸âƒ£ æ–¹æ³•ç­¾åæ˜¯ **æ³›å‹çš„**

```java
public static <T> Result<T> error(String msg)
```

æ„æ€æ˜¯ï¼š
ğŸ‘‰ **è¿”å› `Result<T>`ï¼ˆT æ˜¯æœªçŸ¥ç±»å‹ï¼‰**

---

#### 2ï¸âƒ£ ä½†ä½ åˆ›å»ºçš„æ˜¯ã€ŒåŸå§‹ç±»å‹ Raw Typeã€

```java
Result result = new Result();
```

è¿™æ˜¯ **æ²¡æœ‰æ³›å‹çš„ Result**ï¼Œç›¸å½“äºï¼š

```java
Result<Object>
```

âš ï¸ ç¼–è¯‘å™¨ä¼šç»™ä½ ä¸€ä¸ª **è­¦å‘Šï¼ˆwarningï¼‰**ï¼š

> Raw use of parameterized class 'Result'

---

#### 3ï¸âƒ£ ä¸ºä»€ä¹ˆè¿˜èƒ½ç¼–è¯‘ï¼Ÿ

å› ä¸º **Java æ³›å‹æ˜¯ç¼–è¯‘æœŸè¯­æ³•ç³–**ï¼š

* ç¼–è¯‘å `T` ä¼šè¢« **ç±»å‹æ“¦é™¤ï¼ˆType Erasureï¼‰**
* JVM å®é™…è¿è¡Œæ—¶å¹¶ä¸çŸ¥é“ `T` æ˜¯ä»€ä¹ˆ

æ‰€ä»¥ **èƒ½è·‘ï¼Œä½†ä¸å®‰å…¨**

---

## å››ã€ä¸ºä»€ä¹ˆ `error()` è¿˜è¦å†™ `<T>`ï¼Ÿ

è¿™æ˜¯ä¸€ä¸ª **è®¾è®¡ä¸Šçš„ç»Ÿä¸€æ€§ + æ–¹ä¾¿å‰ç«¯è§£æ** çš„åšæ³•ã€‚

### ä½¿ç”¨åœºæ™¯ï¼š

```java
Result<User> r1 = Result.error("login failed");
Result<List<Order>> r2 = Result.error("no permission");
```

è™½ç„¶ **error æ—¶æ²¡æœ‰ data**ï¼Œ
ä½†ä¸ºäº†è®©æ¥å£è¿”å›ç±»å‹ç»Ÿä¸€ï¼š

```json
{
  "code": 0,
  "msg": "login failed",
  "data": null
}
```

ğŸ‘‰ **å‰ç«¯ä¸ç”¨åŒºåˆ† success / error çš„è¿”å›ç»“æ„**

---

## äº”ã€âœ… æ­£ç¡® & æ›´è§„èŒƒçš„å†™æ³•ï¼ˆæ¨èä½ ä»¥åç”¨ï¼‰

### âœ” å†™æ³•ä¸€ï¼šä¿æŒæ³›å‹ä¸€è‡´ï¼ˆæœ€æ¨èï¼‰

```java
public static <T> Result<T> error(String msg) {
    Result<T> result = new Result<>();
    result.msg = msg;
    result.code = 0;
    return result;
}
```

âœ” æ—  warning
âœ” æ³›å‹å®Œæ•´
âœ” è¯­ä¹‰æ¸…æ™°

---

### âŒ åŸå†™æ³•çš„é—®é¢˜æ€»ç»“ï¼ˆä¸€å¥è¯ï¼‰

> æ–¹æ³•å£°æ˜è¿”å› `Result<T>`ï¼Œä½†å®é™…è¿”å›çš„æ˜¯ **åŸå§‹ Result**ï¼Œç±»å‹ä¸ä¸¥è°¨ã€‚

---

## å…­ã€é¢è¯•ä¸€å¥è¯å›ç­”ï¼ˆéå¸¸é‡è¦ï¼‰

> **`T` æ˜¯æ³›å‹ç±»å‹å‚æ•°ï¼Œè¡¨ç¤ºè¿”å›æ•°æ®çš„å®é™…ç±»å‹ï¼›åœ¨ `error()` ä¸­è™½ç„¶æ²¡æœ‰ dataï¼Œä½†ä¿ç•™ `T` æ˜¯ä¸ºäº†ä¿è¯æ¥å£è¿”å›ç±»å‹çš„ä¸€è‡´æ€§ã€‚**

---

å¦‚æœä½ æ„¿æ„ï¼Œæˆ‘å¯ä»¥ä¸‹ä¸€æ­¥å¸®ä½ ï¼š

* ğŸ” **ç”»ä¸€å¼ ã€Œæ³›å‹ç±» vs æ³›å‹æ–¹æ³•ã€ASCII å›¾**
* âš ï¸ **è®²æ¸…æ¥š Raw Type ä¸ºä»€ä¹ˆå±é™©**
* ğŸ§ª **å‡º 5 é“ Java æ³›å‹é¢è¯•é¢˜ï¼ˆé™„æ ‡å‡†ç­”æ¡ˆï¼‰**

ç›´æ¥è¯´ä½ è¦å“ªä¸€ä¸ªã€‚



